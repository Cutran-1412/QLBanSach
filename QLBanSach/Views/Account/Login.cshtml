@{
    ViewData["Title"] = "Đăng nhập";
    Layout = "~/Views/Shared/_LayoutAccount.cshtml";
}

<style>
    .login-card {
        width: 100%;
        max-width: 420px;
        border-radius: 22px;
        animation: fadeIn 0.6s ease;
        background: #ffffff;
    }

        .login-card input {
            border-radius: 12px;
        }

            .login-card input:focus {
                box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.3);
                border-color: #007bff;
            }

    #togglePassword {
        position: absolute;
        top: 43px;
        right: 15px;
        font-size: 20px;
        cursor: pointer;
        color: #0d6efd;
        transition: 0.2s;
    }

        #togglePassword:hover {
            color: #0048c7;
        }

    @@keyframes fadeIn {
        from

    {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }

    }
</style>

<!-- ❗ Bỏ full-screen + căn giữa. Giờ chỉ là nội dung bình thường -->
<div class="container py-5">


        <h2 class="text-center mb-4 text-primary fw-bold">Đăng nhập</h2>

        <form asp-action="Login" method="post">

            <!-- Username -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Tên đăng nhập</label>
                <input type="text" name="username"
                       class="form-control form-control-lg"
                       placeholder="Nhập tên đăng nhập..."
                       required />
            </div>

            <!-- Password -->
            <div class="mb-3 position-relative">
                <label class="form-label fw-semibold">Mật khẩu</label>

                <input type="password" id="password" name="password"
                       class="form-control form-control-lg"
                       placeholder="Nhập mật khẩu..."
                       required />

                <i id="togglePassword" class="fa-solid fa-eye-slash"></i>
            </div>

            <button type="submit"
                    class="btn btn-primary w-100 py-2 mt-2"
                    style="border-radius: 12px; font-size: 18px;">
                Đăng nhập
            </button>

            @if (ViewBag.Error != null)
            {
                <div class="alert alert-danger mt-3 text-center" style="border-radius:12px;">
                    @ViewBag.Error
                </div>
            }
        </form>

        <div class="text-center mt-3">
            <a asp-controller="Account" asp-action="ForgotPassword" class="text-primary fw-semibold">
                Quên mật khẩu?
            </a>
        </div>

        <p class="text-center mt-3">
            Chưa có tài khoản?
            <a asp-controller="Account" asp-action="Create" class="fw-semibold text-primary">
                Đăng ký ngay
            </a>
        </p>
    </div>

@section Scripts {
    <script>
        const togglePassword = document.getElementById("togglePassword");
        const password = document.getElementById("password");

        togglePassword.addEventListener("click", () => {
            password.type = password.type === "password" ? "text" : "password";
            togglePassword.classList.toggle("fa-eye");
            togglePassword.classList.toggle("fa-eye-slash");
        });
    </script>
}
